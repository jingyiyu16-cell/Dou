<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RHYTHM | 沉浸式交互艺术展</title>
    
    <!-- 引入高端字体 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- 引入 GSAP 和 Lenis -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <style>
        /* ==================== 核心设置 ==================== */
        :root {
            --bg: #050505;
            --text: #e0e0e0;
            --text-dim: #555555;
            --accent: #ffffff;
            --font-display: 'Cinzel', serif;
            --font-body: 'Inter', sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: var(--font-body);
            overflow-x: hidden;
        }

        ::-webkit-scrollbar { width: 0px; background: transparent; }

        a { text-decoration: none; color: inherit; }

        /* ==================== 氛围特效 ==================== */
        .noise {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 9990; opacity: 0.05;
            background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        .cursor-glow {
            position: fixed; top: 0; left: 0; width: 600px; height: 600px;
            background: radial-gradient(circle, rgba(255,255,255,0.04) 0%, rgba(0,0,0,0) 60%);
            transform: translate(-50%, -50%);
            pointer-events: none; z-index: 0;
            transition: transform 0.1s ease;
        }

        .cursor {
            position: fixed; top: 0; left: 0; width: 10px; height: 10px;
            background: var(--accent); border-radius: 50%;
            transform: translate(-50%, -50%); pointer-events: none; z-index: 10000;
            mix-blend-mode: difference;
            transition: width 0.3s, height 0.3s, opacity 0.3s;
        }
        .cursor.hovered { width: 60px; height: 60px; background: white; opacity: 0.1; mix-blend-mode: normal; }

        /* ==================== UI 组件 ==================== */
        .preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
            background: #000; z-index: 9999;
            display: flex; justify-content: center; align-items: center;
        }
        .loader-text {
            font-family: var(--font-display); font-size: 3rem; letter-spacing: 8px;
            clip-path: inset(0 100% 0 0);
        }

        nav {
            position: fixed; top: 0; width: 100%; padding: 2rem 4rem;
            display: flex; justify-content: space-between; align-items: center;
            z-index: 100; mix-blend-mode: exclusion;
        }
        .logo { font-family: var(--font-display); font-weight: 700; font-size: 1.5rem; }
        .book-btn {
            padding: 10px 24px; border: 1px solid rgba(255,255,255,0.3); border-radius: 50px;
            font-size: 0.8rem; text-transform: uppercase; transition: 0.3s;
        }
        .book-btn:hover { background: white; color: black; }

        /* ==================== 页面内容 ==================== */
        .hero {
            height: 100vh; width: 100%; position: relative;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            overflow: hidden;
        }
        
        .hero-visual {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1; opacity: 0;
        }

        .hero-visual img {
            width: 100%; height: 100%; object-fit: cover;
            filter: brightness(0.5) grayscale(0.3);
        }

        .hero-content { z-index: 2; text-align: center; mix-blend-mode: difference; }
        .hero-title {
            font-family: var(--font-display); font-size: 12vw; line-height: 0.85;
            text-transform: uppercase; letter-spacing: -0.03em;
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);
        }
        .hero-subtitle { margin-top: 2rem; font-size: 1.1rem; letter-spacing: 4px; text-transform: uppercase; opacity: 0.8; }

        .manifesto { padding: 10rem 10vw; max-width: 1600px; margin: 0 auto; }
        .manifesto-text { font-size: 3vw; line-height: 1.4; font-weight: 300; }
        .highlight { color: var(--text-dim); font-family: var(--font-display); font-style: italic;}

        /* ==================== 横向画廊 (核心逻辑) ==================== */
        .gallery-wrapper {
            /* 高度不限制，由 JS 的 pin 决定 */
            width: 100%;
            overflow: hidden; /* 隐藏横向滚动条 */
        }

        .gallery-container {
            display: flex; 
            flex-wrap: nowrap;
            /* 关键：宽度自适应内容，不要写死 400% */
            width: fit-content; 
            height: 100vh;
        }

        .panel {
            width: 100vw; /* 每一屏占满视口宽度 */
            height: 100vh;
            flex-shrink: 0; /* 防止压缩 */
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            position: relative;
            border-right: 1px solid rgba(255,255,255,0.1);
            transition: background 0.3s;
        }
        
        /* 引导页样式 */
        .panel.intro { background: #0a0a0a; }

        .panel-img-wrap {
            width: 50vw; height: 60vh;
            overflow: hidden; position: relative;
        }

        .panel-img {
            width: 100%; height: 100%; object-fit: cover;
            filter: grayscale(1) brightness(0.7);
            transition: transform 0.7s ease, filter 0.5s ease;
            transform: scale(1.1);
        }

        /* 悬停效果 */
        .panel:hover .panel-img { transform: scale(1); filter: grayscale(0) brightness(1); }
        .panel-text {
            position: absolute; bottom: 15vh; left: 10vw;
            pointer-events: none;
        }
        
        .panel-num {
            display: block; font-size: 0.9rem; color: var(--text-dim);
            margin-bottom: 0.5rem; letter-spacing: 2px; font-family: var(--font-body);
        }
        
        .panel-title {
            font-family: var(--font-display); font-size: 4rem;
            color: #fff; text-transform: uppercase;
        }

        /* ==================== 底部 CTA ==================== */
        .cta-section {
            height: 80vh; display: flex; flex-direction: column;
            justify-content: center; align-items: center; text-align: center;
            background: #080808;
        }
        .big-btn {
            width: 180px; height: 180px; border-radius: 50%;
            border: 1px solid rgba(255,255,255,0.2);
            display: flex; justify-content: center; align-items: center;
            text-transform: uppercase; letter-spacing: 2px;
            transition: 0.3s; margin-top: 3rem; position: relative; overflow: hidden;
        }
        .big-btn::after {
            content:''; position: absolute; width: 100%; height: 100%;
            background: #fff; border-radius: 50%; transform: scale(0);
            transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1); z-index: -1;
        }
        .big-btn:hover { color: #000; border-color: transparent; }
        .big-btn:hover::after { transform: scale(1); }

    </style>
</head>
<body>

    <!-- 1. 加载动画 -->
    <div class="preloader">
        <div class="loader-text">RHYTHM.</div>
    </div>

    <!-- 2. 全局特效 -->
    <div class="noise"></div>
    <div class="cursor-glow"></div>
    <div class="cursor"></div>

    <nav>
    <!-- 左侧 -->
    <div style="display:flex; align-items:center; gap: 2rem;">
        <div class="logo hover-magnet">RHYTHM.</div>
        
        <!-- ★★★ 在这里添加 Profile 链接 ★★★ -->
        <a href="profile.html" style="font-family: var(--font-body); font-size: 0.9rem; color: #888; text-transform: uppercase; transition:0.3s;" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='#888'">
            设计者简历
        </a>
    </div>

    <!-- 右侧 -->
    <a href="visit.html" class="book-btn hover-magnet">获取数字通行证</a>
</nav>

    <!-- 3. 主视觉 -->
    <header class="hero">
        <div class="hero-visual">
            <img src="https://images.unsplash.com/photo-1515462277126-2dd0c162007a?q=80&w=2560&auto=format&fit=crop" alt="Abstract Art">
        </div>
        <div class="hero-content">
            <h1 class="hero-title">Digital <br> Senses</h1>
            <div class="hero-subtitle">Immersive Exhibition 2026</div>
        </div>
    </header>

    <!-- 4. 宣言 -->
    <section class="manifesto">
        <p class="manifesto-text">
            Code is poetry written in light.<br>
            We don't show images, we weave <span class="highlight">dimensions</span>.<br><br>
            In the void of digital space, <br>
            your perception is the only <span class="highlight">rhythm</span> that matters.
        </p>
    </section>

    <!-- 5. 横向滚动画廊 (动态自适应) -->
    <div class="gallery-wrapper">
        <div class="gallery-container">
            
            <!-- 第一张：引导页 (不跳转) -->
            <div class="panel intro">
                <div style="text-align: center;">
                    <h2 style="font-family: var(--font-display); font-size: 4vw;">沉浸式交互设计——律动</h2>
                    <p style="color: #666; margin-top: 1rem;">作者：张枭驰<br>指导老师：殷硕涵</br></p>
                    <div style="margin-top:20px; font-size: 2rem;">&rarr;</div>
                </div>
            </div>

            <!-- 作品 01 -->
            <a href="p1.html" class="panel hover-magnet">
                 <div class="panel-img-wrap">
     <!-- 只要图片和html在同一个文件夹，这样写就能显示 -->
  <img src="image/work01.jpg" class="panel-img" alt="Art 1">
</div>
                <div class="panel-text">
                    <span class="panel-num">No. 01</span>
                    <div class="panel-title">海声回响</div>
                </div>
            </a>

            <!-- 作品 02 -->
            <a href="p2.html" class="panel hover-magnet">
                <div class="panel-img-wrap">
                    <img src="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=2670&auto=format&fit=crop" class="panel-img" alt="Art 2">
                </div>
                <div class="panel-text">
                    <span class="panel-num">No. 02</span>
                    <div class="panel-title">触摸心跳</div>
                </div>
            </a>

            <!-- 作品 03 -->
            <a href="p3.html" class="panel hover-magnet">
                <div class="panel-img-wrap">
                    <img src="https://images.unsplash.com/photo-1534972195531-d756b9bfa9f2?q=80&w=2670&auto=format&fit=crop" class="panel-img" alt="Art 3">
                </div>
                <div class="panel-text">
                    <span class="panel-num">No. 03</span>
                    <div class="panel-title">对话青铜</div>
                </div>
            </a>

            <!-- 作品 04 -->
            <a href="p4.html" class="panel hover-magnet">
                <div class="panel-img-wrap">
                    <img src="https://images.unsplash.com/photo-1614730341194-75c607400070?q=80&w=2574&auto=format&fit=crop" class="panel-img" alt="Art 4">
                </div>
                <div class="panel-text">
                    <span class="panel-num">No. 04</span>
                    <div class="panel-title">Deep Dive</div>
                </div>
            </a>

       <!-- 作品 05 -->
            <a href="p5.html" class="panel hover-magnet">
                <div class="panel-img-wrap">
                    <img src="https://images.unsplash.com/photo-1614730341194-75c607400070?q=80&w=2574&auto=format&fit=crop" class="panel-img" alt="Art 5">
                </div>
                <div class="panel-text">
                    <span class="panel-num">No. 05</span>
                    <div class="panel-title">Deep Dive</div>
                </div>
            </a>

       <!-- 作品 06 -->
            <a href="p6.html" class="panel hover-magnet">
                <div class="panel-img-wrap">
                    <img src="https://images.unsplash.com/photo-1614730341194-75c607400070?q=80&w=2574&auto=format&fit=crop" class="panel-img" alt="Art 6">
                </div>
                <div class="panel-text">
                    <span class="panel-num">No. 06</span>
                    <div class="panel-title">Deep Dive</div>
                </div>
            </a>

       <!-- 作品 05 -->
            <a href="p4.html" class="panel hover-magnet">
                <div class="panel-img-wrap">
                    <img src="https://images.unsplash.com/photo-1614730341194-75c607400070?q=80&w=2574&auto=format&fit=crop" class="panel-img" alt="Art 5">
                </div>
                <div class="panel-text">
                    <span class="panel-num">No. 05</span>
                    <div class="panel-title">Deep Dive</div>
                </div>
            </a>

       <!-- 作品 05 -->
            <a href="p4.html" class="panel hover-magnet">
                <div class="panel-img-wrap">
                    <img src="https://images.unsplash.com/photo-1614730341194-75c607400070?q=80&w=2574&auto=format&fit=crop" class="panel-img" alt="Art 5">
                </div>
                <div class="panel-text">
                    <span class="panel-num">No. 05</span>
                    <div class="panel-title">Deep Dive</div>
                </div>
            </a>

       <!-- 作品 05 -->
            <a href="p4.html" class="panel hover-magnet">
                <div class="panel-img-wrap">
                    <img src="https://images.unsplash.com/photo-1614730341194-75c607400070?q=80&w=2574&auto=format&fit=crop" class="panel-img" alt="Art 5">
                </div>
                <div class="panel-text">
                    <span class="panel-num">No. 05</span>
                    <div class="panel-title">Deep Dive</div>
                </div>
            </a>

            <!-- 为了演示，我这里写到4。如果你需要到15，
                 只需复制上面的 <a href="..." class="panel">...</a> 块，
                 修改 href="p5.html", 图片和文字即可。
                 GSAP 会自动计算长度，无需修改 CSS。 -->
            
             <!-- 示例：自动生成的占位符 (作品 5-15) -->
             <!-- 实际开发中，请手动替换为真实的 HTML 块 -->
        </div>
    </div>

    <!-- 6. 底部引流 -->
    <footer class="cta-section">
        <h2 style="font-family: var(--font-display); font-size: 3rem;">ZHEJIANG·JINHUA</h2>
        <a href="#" class="big-btn hover-magnet">BACK NOW</a>
    </footer>

    <script>
        // ==================== JS 逻辑 ====================

        // 1. 自动填充剩余的 Gallery (如果没写满15个，这段脚本帮你自动补全演示)
        //    ***如果你手动写满了HTML，可以删除这段代码***
        const container = document.querySelector('.gallery-container');
        const currentPanels = document.querySelectorAll('.panel').length;
        const totalNeeded = 10; // 1个引导页 + 15个作品

        for (let i = currentPanels; i < totalNeeded; i++) {
            const num = i; 
            const html = `
            <a href="p${num}.html" class="panel hover-magnet">
                <div class="panel-img-wrap">
                    <img src="https://source.unsplash.com/random/800x1000?abstract,dark&sig=${i}" class="panel-img" style="background:#222;" alt="Art ${num}">
                </div>
                <div class="panel-text">
                    <span class="panel-num">No. ${num < 10 ? '0'+num : num}</span>
                    <div class="panel-title">Work ${num}</div>
                </div>
            </a>`;
            container.insertAdjacentHTML('beforeend', html);
        }
        // =================================================

        // 2. 初始化 Lenis 平滑滚动
        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            smooth: true
        });
        function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
        requestAnimationFrame(raf);

        gsap.registerPlugin(ScrollTrigger);

        // 3. 加载动画
        const tl = gsap.timeline();
        tl.to(".loader-text", { clipPath: "inset(0 0% 0 0)", duration: 1.2, ease: "power3.out" })
          .to(".preloader", { yPercent: -100, duration: 1, delay: 0.5, ease: "power3.inOut" })
          .to(".hero-visual", { opacity: 1, duration: 1 }, "-=0.5")
          .from(".hero-title", { y: 100, opacity: 0, duration: 1.2, ease: "power4.out" }, "-=0.8");

        // 4. Hero 视差
        gsap.to(".hero-visual img", {
            yPercent: 30,
            ease: "none",
            scrollTrigger: {
                trigger: ".hero",
                start: "top top",
                end: "bottom top",
                scrub: true
            }
        });

        // 5. 横向滚动核心逻辑
        // 计算总宽度
        const panels = gsap.utils.toArray(".panel");
        // 这里的计算逻辑是：让所有板块向左移动，直到最后一个板块显示在屏幕中
        // (panels.length - 1) 确保最后一个板块停在视口
        
        gsap.to(panels, {
            xPercent: -100 * (panels.length - 1),
            ease: "none",
            scrollTrigger: {
                trigger: ".gallery-wrapper",
                pin: true, // 固定住 wrapper
                scrub: 1,  // 绑定滚动条
                // 滚动距离 = 视口宽度 * 面板数量 (让滚动速度自然)
                end: () => "+=" + (container.offsetWidth - innerWidth)
            }
        });

        // 6. 鼠标跟随与磁吸
        const cursor = document.querySelector('.cursor');
        const cursorGlow = document.querySelector('.cursor-glow');
        
        window.addEventListener('mousemove', (e) => {
            gsap.to(cursor, { x: e.clientX, y: e.clientY, duration: 0.1 });
            gsap.to(cursorGlow, { x: e.clientX, y: e.clientY, duration: 0.8 });
        });

        // 监听所有带 .hover-magnet 的元素 (包含动态生成的)
        document.addEventListener('mousemove', (e) => {
            const magnet = e.target.closest('.hover-magnet');
            if (magnet) {
                const bound = magnet.getBoundingClientRect();
                const x = e.clientX - (bound.left + bound.width / 2);
                const y = e.clientY - (bound.top + bound.height / 2);
                gsap.to(magnet, { x: x * 0.3, y: y * 0.3, duration: 0.3 });
                cursor.classList.add('hovered');
            } else {
                gsap.to('.hover-magnet', { x: 0, y: 0, duration: 0.3 });
                cursor.classList.remove('hovered');
            }
        });


// 按 'D' 键开启开发者模式风格
window.addEventListener('keydown', (e) => {
    if(e.key === 'd' || e.key === 'D') {
        document.body.classList.toggle('debug-mode');
        if(document.body.classList.contains('debug-mode')) {
            // 创建一个 FPS 计数器风格的覆盖层
            const overlay = document.createElement('div');
            overlay.id = 'debug-overlay';
            overlay.style = "position:fixed; top:0; left:0; width:100%; height:100%; border: 2px solid #0f0; pointer-events:none; z-index:99999; box-sizing:border-box;";
            overlay.innerHTML = "<div style='position:absolute; top:10px; left:10px; color:#0f0; font-family:monospace;'>FPS: 60.0 / COOK: 16.6ms / GPU: NVIDIA RTX 4090</div>";
            document.body.appendChild(overlay);
        } else {
            document.getElementById('debug-overlay').remove();
        }
    }
});

// 禁止右键菜单
document.addEventListener('contextmenu', event => event.preventDefault());

// 禁止 F12 和 Ctrl+Shift+I (审查元素)
document.onkeydown = function(e) {
    if(event.keyCode == 123) { // F12
        return false;
    }
    if(e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) { // Ctrl+Shift+I
        return false;
    }
    if(e.ctrlKey && e.shiftKey && e.keyCode == 'C'.charCodeAt(0)) { // Ctrl+Shift+C
        return false;
    }
    if(e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) { // Ctrl+U (查看源码)
        return false;
    }
}

    </script>
</body>
</html>